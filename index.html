<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]>      <html class="no-js"> <!--<![endif]-->
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title></title>
  <meta name="description" content="">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<style>
  /*
html5doctor.com Reset Stylesheet
v1.6.1
Last Updated: 2010-09-17
Author: Richard Clark - http://richclarkdesign.com
Twitter: @rich_clark
*/

html, body, div, span, object, iframe,
h1, h2, h3, h4, h5, h6, p, blockquote, pre,
abbr, address, cite, code,
del, dfn, em, img, ins, kbd, q, samp,
small, strong, sub, sup, var,
b, i,
dl, dt, dd, ol, ul, li,
fieldset, form, label, legend,
table, caption, tbody, tfoot, thead, tr, th, td,
article, aside, canvas, details, figcaption, figure,
footer, header, hgroup, menu, nav, section, summary,
time, mark, audio, video {
    margin:0;
    padding:0;
    border:0;
    outline:0;
    font-size:100%;
    vertical-align:baseline;
    background:transparent;
}

body {
    line-height:1;
}

article,aside,details,figcaption,figure,
footer,header,hgroup,menu,nav,section {
    display:block;
}

nav ul {
    list-style:none;
}

blockquote, q {
    quotes:none;
}

blockquote:before, blockquote:after,
q:before, q:after {
    content:'';
    content:none;
}

a {
    margin:0;
    padding:0;
    font-size:100%;
    vertical-align:baseline;
    background:transparent;
}

/* change colours to suit your needs */
ins {
    background-color:#ff9;
    color:#000;
    text-decoration:none;
}

/* change colours to suit your needs */
mark {
    background-color:#ff9;
    color:#000;
    font-style:italic;
    font-weight:bold;
}

del {
    text-decoration: line-through;
}

abbr[title], dfn[title] {
    border-bottom:1px dotted;
    cursor:help;
}

table {
    border-collapse:collapse;
    border-spacing:0;
}

/* change border colour to suit your needs */
hr {
    display:block;
    height:1px;
    border:0;  
    border-top:1px solid #cccccc;
    margin:1em 0;
    padding:0;
}

input, select {
    vertical-align:middle;
}

/*>//<->//<->//<->//<->//<->//<->//<->//<->//<->//<->//<->//<->//<->//<->//<->//<->//<->//<->//<->//<->//<-*/

textarea:focus, 
textarea.form-control:focus, 
input.form-control:focus, 
input[type=text]:focus, 
input[type=password]:focus, 
input[type=email]:focus, 
input[type=number]:focus, 
[type=text].form-control:focus, 
[type=password].form-control:focus, 
[type=email].form-control:focus, 
[type=tel].form-control:focus, 
[contenteditable].form-control:focus {
  box-shadow: none;
  background-color: #f4f4f4;
  color: #8c00ff;
  border: 1px solid #8c00ff;
}
.product-card-accordian{
    line-height: 50px;
}

.product-card, .product-card-accordian, input, .btn{
    height: 50px;
}

.input{
    visibility: hidden;
    display: none;
}

.active{
    height: auto !important;
    border: #8c00ff 2px solid !important;
    -webkit-box-shadow:0px 0px 24px 0px rgba(132,0,255,0.2);
-moz-box-shadow: 0px 0px 24px 0px rgba(132,0,255,0.2);
box-shadow: 0px 0px 24px 0px rgba(132,0,255,0.2);
  }

  .focusInput, .addBtn{
    color: #8c00ff;
  }
.addBtn{
    position: absolute;
    left: -45px;
    border: none;
}

.accordion-button:after {
    display: none;
   }

   .list-group-item:focus{
    border:  2px solid plum;
   }

   label{
    z-index: 99999999;
   }
   
   .text-success{
    color: rgb(48, 205, 0) !important;
    font-weight: bolder;
   }
   .rmvBtn{
    border: none;
    color: #cccccc;
   }

   .active > .rmvBtn{
display: none;
   }

   .accordion-button:focus{
    box-shadow: none;
    border-color: none;
   }

   .accordion-button:not(.collapsed){
    color: #000000;
    background-color: #ededed;
 
   }

   .preview-btn{
    background-color: #8c00ff;
    border: none;
   }
   .preview-btn:hover{
    background-color: #6100b1 !important;
   }

   .btn:disabled{
    background-color: #000000;
    opacity: 1;
   }

   
   @media only screen and (min-width: 768px) {
.gen-card {
    position: relative;
    left: 25%;
    width: 40%;
    position: relative;
}
  }

</style>

<body class="bg-light">
  <div class="card gen-card text-center m-4">
    <div class="card-header p-3">
      Invoice Generator 
    </div>
    <div class="card-body pt-0  pe-0 ps-0  border-0 m-1">
      <div class="input-group mb-1">
        <input onclick="invoiceNumGen()" id="invoiceNum" placeholder="Invoice #" type="number" min="1" max="1000" data-bs-toggle="tooltip" data-bs-title="Invoice #" class="form-control"aria-label="Invoice #">
        <input id="invoiceDate" type="date"  data-bs-toggle="tooltip" data-bs-title="Date"  class="form-control" aria-label="Date">
        <input id="invoiceDueDate" type="date" data-bs-toggle="tooltip" data-bs-title="Invoice Due" class="form-control" aria-label="Invoice Due">
      </div>
      
      <div class="accordion border-0" id="basicDetails">
        <div class="accordion-item">
          <h2 class="accordion-header">
            <button id="businessDetailHeader" class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne"
              aria-expanded="false" aria-controls="collapseOne">
              Business Details
            </button>
          </h2>
          <div id="collapseOne" class="accordion-collapse collapse border-0" data-bs-parent="#basicDetails">
            <div class="accordion-body border-0">
              <form>
                <div class="input-group mb-3">
                  <input id="businessName" type="text" class="form-control detail-input" data-bs-toggle="tooltip" data-bs-title="Name of Business"
                    placeholder="Name of Business" aria-label="Name of Business" aria-describedby="basic-addon1">
                </div>
                <div class="input-group mb-3">
                  <input id="businessFName" type="text" class="form-control detail-input" data-bs-toggle="tooltip" data-bs-title="First Name"
                    placeholder="First Name" aria-label="First Name">
                  <input id="businessLName"  type="text" class="form-control" data-bs-toggle="tooltip" data-bs-title="Last Name"
                    placeholder="Last Name" aria-label="Last Name">
                </div>
                <div class="input-group mb-3">
                  <input  id="businessStreetAddress"  type="text" class="form-control detail-input" data-bs-toggle="tooltip" data-bs-title="Street Address"
                    placeholder="Street Address" aria-label="Street Address">
                    <input  id="businessCity"  type="text" class="form-control detail-input" data-bs-toggle="tooltip" data-bs-title="City"
                    placeholder="City" aria-label="City">
                    <select class="form-control" placeholder="State" data-bs-toggle="tooltip" data-bs-title="State" id="businessState">
                      <option value="">State</option> 
                      <option value="AL">AL (Alabama)</option> 
                      <option value="AK">AK (Alaska)</option> 
                      <option value="AZ">AZ (Arizona)</option> 
                      <option value="AR">AR (Arkansas)</option> 
                      <option value="CA">CA (California)</option> 
                      <option value="CO">CO (Colorado)</option> 
                      <option value="CT">CT (Connecticut)</option> 
                      <option value="DE">DE (Delaware)</option> 
                      <option value="FL">FL (Florida)</option> 
                      <option value="GA">GA (Georgia)</option> 
                      <option value="HI">HI (Hawaii)</option> 
                      <option value="ID">ID (Idaho)</option> 
                      <option value="IL">IL (Illinois)</option> 
                      <option value="IN">IN (Indiana)</option> 
                      <option value="IA">IA (Iowa)</option> 
                      <option value="KS">KS (Kansas)</option> 
                      <option value="KY">KY (Kentucky)</option> 
                      <option value="LA">LA (Louisiana)</option> 
                      <option value="ME">ME (Maine)</option> 
                      <option value="MD">MD (Maryland)</option> 
                      <option value="MA">MA (Massachusetts)</option> 
                      <option value="MI">MI (Michigan)</option> 
                      <option value="MN">MN (Minnesota)</option> 
                      <option value="MS">MS (Mississippi)</option> 
                      <option value="MO">MO (Missouri)</option> 
                      <option value="MT">MT (Montana)</option> 
                      <option value="NE">NE (Nebraska)</option> 
                      <option value="NV">NV (Nevada)</option> 
                      <option value="NH">NH (New Hampshire)</option> 
                      <option value="NJ">NJ (New Jersey)</option> 
                      <option value="NM">NM (New Mexico)</option> 
                      <option value="NY">NY (New York)</option>
                      <option value="NC">NC (North Carolina)</option> 
                      <option value="ND">ND (North Dakota)</option> 
                      <option value="OH">OH (Ohio)</option> 
                      <option value="OK">OK (Oklahoma)</option> 
                      <option value="OR">OR (Oregon)</option> 
                      <option value="PA">PA (Pennsylvania)</option> 
                      <option value="RI">RI (Rhode Island)</option> 
                      <option value="SC">SC (South Carolina)</option> 
                      <option value="SD">SD (South Dakota)</option> 
                      <option value="TN">TN (Tennessee)</option> 
                      <option value="TX">TX (Texas)</option> 
                      <option value="UT">UT (Utah)</option> 
                      <option value="VT">VT (Vermont)</option> 
                      <option value="VA">VA (Virginia)</option> 
                      <option value="WA">WA (Washington)</option> 
                      <option value="WV">WV (Wisconsin)</option> 
                      <option value="WY">WY (Wyoming)</option> 
                       
                  </select>
                  
                  <input  id="businessZip"  type="number" class="form-control detail-input" data-bs-toggle="tooltip" data-bs-title="Zip Code"
                    placeholder="Zip Code" aria-label="Zip Code">
                </div>
                <div class="input-group mb-3">
                  <input type="number" id="businessNumber" class="form-control detail-input" data-bs-toggle="tooltip" data-bs-title="Phone Number"
                    placeholder="Phone Number" aria-label="Phone Number">
                </div>
                <div class="input-group">
                  <input  id="businessEmail"  type="text" class="form-control detail-input" data-bs-toggle="tooltip" data-bs-title="Email"
                    placeholder="Email" aria-label="Email">
                </div>
              </form>
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <h2 class="accordion-header">
            <button  id="billDetailHeader"  class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
              data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
              Bill To Details
            </button>
          </h2>
          <div id="collapseTwo" class="accordion-collapse collapse" data-bs-parent="#basicDetails">
            <div class="accordion-body">
              <div class="input-group mb-3">
                <input id="clientFName" type="text" class="form-control" data-bs-toggle="tooltip" data-bs-title="Client's First Name"
                  placeholder="First Name" aria-label="Client's First Name" autocomplete="off">
                <input id="clientLName" type="text" class="form-control" data-bs-toggle="tooltip" data-bs-title="Client's Last Name"
                  placeholder="Last Name" aria-label="Client's Last Name">
              </div>
              <div class="input-group mb-3">
                <input id="clientStreetAddress" type="text" class="form-control" data-bs-toggle="tooltip" data-bs-title="Client's Street Address"
                  placeholder="Street Address" aria-label="Client's Street Address" autocomplete="off">
                <input id="clientCity" type="text" class="form-control" data-bs-toggle="tooltip" data-bs-title="Client's City"
                  placeholder="City" aria-label="Client's City" autocomplete="off">
                  <select class="form-control" placeholder="State" data-bs-toggle="tooltip" data-bs-title="State" id="clientState">
                    <option value="">State</option> 
                    <option value="AL">AL (Alabama)</option> 
                    <option value="AK">AK (Alaska)</option> 
                    <option value="AZ">AZ (Arizona)</option> 
                    <option value="AR">AR (Arkansas)</option> 
                    <option value="CA">CA (California)</option> 
                    <option value="CO">CO (Colorado)</option> 
                    <option value="CT">CT (Connecticut)</option> 
                    <option value="DE">DE (Delaware)</option> 
                    <option value="FL">FL (Florida)</option> 
                    <option value="GA">GA (Georgia)</option> 
                    <option value="HI">HI (Hawaii)</option> 
                    <option value="ID">ID (Idaho)</option> 
                    <option value="IL">IL (Illinois)</option> 
                    <option value="IN">IN (Indiana)</option> 
                    <option value="IA">IA (Iowa)</option> 
                    <option value="KS">KS (Kansas)</option> 
                    <option value="KY">KY (Kentucky)</option> 
                    <option value="LA">LA (Louisiana)</option> 
                    <option value="ME">ME (Maine)</option> 
                    <option value="MD">MD (Maryland)</option> 
                    <option value="MA">MA (Massachusetts)</option> 
                    <option value="MI">MI (Michigan)</option> 
                    <option value="MN">MN (Minnesota)</option> 
                    <option value="MS">MS (Mississippi)</option> 
                    <option value="MO">MO (Missouri)</option> 
                    <option value="MT">MT (Montana)</option> 
                    <option value="NE">NE (Nebraska)</option> 
                    <option value="NV">NV (Nevada)</option> 
                    <option value="NH">NH (New Hampshire)</option> 
                    <option value="NJ">NJ (New Jersey)</option> 
                    <option value="NM">NM (New Mexico)</option> 
                    <option value="NY">NY (New York)</option>
                    <option value="NC">NC (North Carolina)</option> 
                    <option value="ND">ND (North Dakota)</option> 
                    <option value="OH">OH (Ohio)</option> 
                    <option value="OK">OK (Oklahoma)</option> 
                    <option value="OR">OR (Oregon)</option> 
                    <option value="PA">PA (Pennsylvania)</option> 
                    <option value="RI">RI (Rhode Island)</option> 
                    <option value="SC">SC (South Carolina)</option> 
                    <option value="SD">SD (South Dakota)</option> 
                    <option value="TN">TN (Tennessee)</option> 
                    <option value="TX">TX (Texas)</option> 
                    <option value="UT">UT (Utah)</option> 
                    <option value="VT">VT (Vermont)</option> 
                    <option value="VA">VA (Virginia)</option> 
                    <option value="WA">WA (Washington)</option> 
                    <option value="WV">WV (Wisconsin)</option> 
                    <option value="WY">WY (Wyoming)</option> 
                     
                </select>
                <input  id="clientZip" type="text" class="form-control" data-bs-toggle="tooltip" data-bs-title="Client's Zip Code"
                  placeholder="Zip Code" aria-label="Client's Zip Code" autocomplete="off">
              </div>
              <div class="input-group mb-3">
                <input  id="clientNumber" type="text" class="form-control" data-bs-toggle="tooltip" data-bs-title="Client's Phone Number"
                  placeholder="Phone Number" aria-label="Client's Phone Number" autocomplete="off">
              </div>
              <div class="input-group">
                <input  id="clientEmail" type="text" class="form-control" data-bs-toggle="tooltip" data-bs-title="Client's Email"
                  placeholder="Email" aria-label="Client's Email" autocomplete="off">
              </div>
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <h2 class="accordion-header">
            <button id="orderDetails" onclick="reset()" class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
              data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
              Order Details
            </button>
          </h2>
          <div id="collapseThree" class="accordion-collapse collapse" data-bs-parent="#basicDetails">
            <div class="accordion-body m-0 p-0 border-0">
              <ul id="itemList" class="list-group border-0 mt-1">
                <li value="1" class="list-group-item d-flex m-0 p-0 border-0">
                  <button id="AddItem" onclick="addItem(this)" class="btn addBtn"><svg
                      xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor"
                      class="bi bi-plus-circle" viewBox="0 0 16 16">
                      <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" />
                      <path
                        d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z" />
                    </svg>
                  </button>
                  <div class="card w-100 product-card m-2">
                    <div onclick="toggle(this)" class="card-header bg-transparent border-0 product-card-accordian m-0 p-0">
                      <label data-title="Product Name" class="form-check-label product-detail">Product Name</label>
                    </div>
                    <button onclick="removeItem(this)" class="btn rmvBtn float-end position-absolute top-0 end-0 ">
                        <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-dash-circle" viewBox="0 0 16 16">
                          <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                          <path d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"/>
                        </svg>
                      </button>
                    <div class="overflow-hidden">
                      <div class="input-group">
                        <input onkeyup="saveInput(this)" name="desc" data-desc="Product Description" type="text" class="form-control product-detail border-0 w-50" data-bs-toggle="tooltip" data-bs-title="Desc."
                          placeholder="Desc." aria-label="Desc.">
                        <input onkeyup="saveInput(this)" name="price" data-price="0" type="number" class="form-control product-detail border-0 w-25" data-bs-toggle="tooltip" data-bs-title="Price"
                          placeholder="Price" aria-label="Price">
                        <input onkeyup="saveInput(this)" name="quantity" data-quantity="1" type="Number" class="form-control product-detail border-0 w-25" data-bs-toggle="tooltip" data-bs-title="Quantity"
                          placeholder="Quantity" aria-label="Quantity">
                      </div>
                    </div>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </div>

        <div class="accordion-item">
          <h2 class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
              data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
              Payment Details
            </button>
          </h2>
          <div id="collapseFour" class="accordion-collapse collapse" data-bs-parent="#basicDetails">
            <div class="accordion-body m-0 p-0 border-0">
              <div class="container text-center">
                <div class="row">
                  <div class="col overflow-hidden p-0 m-0">

                      <textarea id="paymentNotes" class="form-control border-0 w-100 h-100"  data-bs-toggle="tooltip" data-bs-title="Payment Instructions" placeholder="Payment Instructions"></textarea>
          
                  </div>
                  <div class="col">
                    <div class="input-group mt-3">
                      <input id="tax" type="number" min="0" max="100" class="form-control"  data-bs-toggle="tooltip" data-bs-title="Tax%" placeholder="Tax%" aria-label="Tax%">
                      <input id="discount" type="number" min="0" max="100" class="form-control"  data-bs-toggle="tooltip" data-bs-title="Discount%" placeholder="Discount%" aria-label="Discount%">
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        
      </div>
    </div>
    <div class="card-footer text-body-secondary bg-transparent border-0">
      <button onclick="preview()" class="btn mb-2 preview-btn text-white w-100">
        <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-play-fill float-start" viewBox="0 0 16 16">
          <path d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"/>
        </svg> Preview</button>
    </div>
  </div>

  <script src="https://code.jquery.com/jquery-3.7.1.min.js"
    integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
    crossorigin="anonymous"></script>
    <script>
      const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]');
const tooltipList = [...tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl));
var count;
localStorage.removeItem("Preview");
localStorage.removeItem("Products");
var previewTemp = {
    invoiceNumber: '',
    invoiceDue: '',
    invoiceDate: '',
    businessName: '',
    businessFName: '',
    businessLName: '',
    businessStreetAddress: '',
    businessCity: '',
    businessState: '',
    businessZip: '',
    businessPhone: '',
    businessEmail: '',
    clientFName: '',
    clientLName: '',
    clientStreetAddress: '',
    clientCity: '',
    clientState: '',
    clientZip: '',
    clientNumber: '',
    clientEmail: '',
    paymentNotes: '',
    tax: '',
    discount: ''
};
var productList = [
    {
        "id": 1,
        "product_title": "Product Title",
        "product_desc": "",
        "product_price": "",
        "product_quantity": ""
    }]
const removeItem = (id) => {
    var index = productList.map(x => {
        return x.id;
    }).indexOf(id);

    productList.splice(index, 1);
    init()
}
const addItem = () => {
    count = parseInt(productList[productList.length - 1].id);

    productList.push({
        "id": count + 1,
        "product_title": "Product Title",
        "product_desc": "",
        "product_price": "",
        "product_quantity": ""
    })
    init()
}
const toggle = (elem, id) => {
    $('.product-card').removeClass('active');
    $(elem).parent().addClass('active');
    if ($(elem).parent().hasClass('active')) {
        var label = $(elem).children('label').eq(0).text();
        const input = $('<div>');
        $(input).addClass('input-group m-0 p-0');
        const value = $('<input>');
        $(value).val(label);
        $(value).addClass('form-control focusInput');
        $(value).attr('placeholder', 'Product Name');
        $(value).attr('aria-label', 'Product Name');
        $(value).attr('data-bs-toggle', 'tooltip');
        $(value).attr('data-bs-title', 'Product Name');
        $(value).attr('onblur', `saveChanges(this, ${id})`);
        $(input).html(value);


        $($(elem)).replaceWith(input);

        $(value).focus()
    }
}

const saveInput = (elem, id) => {
    const soup = $(elem).val()
    if ($(elem).attr('data-desc')) {



        productList.find(x => x.id === id).product_desc = soup;

    } else if ($(elem).attr('data-price')) {


        productList.find(x => x.id === id).product_price = parseInt(soup);

    } else if ($(elem).attr('data-quantity')) {

        productList.find(x => x.id === id).product_quantity = parseInt(soup);

    }

}
const saveChanges = (elem, id) => {
    var input = $(elem).val();
    const div = $('<div>');
    const label = $('<label>');
    $(div).attr('onclick', `toggle(this, ${id})`);
    $(div).addClass('card-header bg-transparent border-0 product-card-accordian text-center m-0 p-0');
    $(label).addClass('form-check-label');
    $(div).html(label);
    if (input.length <= 0) {
        $(label).text('Product Name');
        productList.find(x => x.id === id).product_title = "Product Title";
    } else {
        $(label).text(input);
        productList.find(x => x.id === id).product_title = input;
    }
    $(elem).parent('.input-group').replaceWith(div);
}

const init = () => {
    $('#itemList').html(' ')

    for (var i = 0; i < productList.length; i++) {
        var li = $('<li>');
        $(li).attr('value', productList[i].id).addClass('list-group product border-0 mt-1');
        $(li).html(`
    <div class="card w-100 product-card">
      <div onclick="toggle(this, ${productList[i].id})" class="card-header bg-transparent border-0 product-card-accordian m-0 p-0">
        <label data-title=${productList[i].product_title} class="form-check-label product-detail">${productList[i].product_title}</label>
      </div>
      <button onclick="removeItem(${productList[i].id})" class="btn rmvBtn float-end position-absolute top-0 end-0 ">
          <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-dash-circle" viewBox="0 0 16 16">
            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
            <path d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"/>
          </svg>
        </button>
      <div class="overflow-hidden">
        <div class="input-group">
          <input onblur="saveInput(this,${productList[i].id})" name="desc" value="${productList[i].product_desc}" data-desc="Product Description" type="text" class="form-control product-detail border-0 w-50" data-bs-toggle="tooltip" data-bs-title="Product Description"
            placeholder="Desc." aria-label="Desc.">
          <input onblur="saveInput(this,${productList[i].id})" name="price" value="${productList[i].product_price}"  data-price="0" type="number" class="form-control product-detail border-0 w-25" data-bs-toggle="tooltip" data-bs-title="Price"
            placeholder="Price" aria-label="Price">
          <input onblur="saveInput(this,${productList[i].id})" name="quantity" value="${productList[i].product_quantity}"  data-quantity="1" type="Number" class="form-control product-detail border-0 w-25" data-bs-toggle="tooltip" data-bs-title="Quantity"
            placeholder="Quantity" aria-label="Quantity">
        </div>
      </div>
    </div>`)
        $('#itemList').append(li)
    }
    $('.product-card').last().append(`<button id="AddItem" onclick="addItem(this)" class="btn addBtn"><svg
xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor"
class="bi bi-plus-circle" viewBox="0 0 16 16">
<path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" />
<path
  d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z" />
</svg>
</button>`)
    if (productList.length <= 1) {
        $('.rmvBtn').hide()
    }
}
init();


const preview = () => {
    if ($('#invoiceNum').val().length <= 0) {
        $('#invoiceNum').addClass('text-danger border-danger');
        $('#invoiceNum').removeClass('text-success border-success');
        $('#invoiceNum').focus();

    } else {
        $('#invoiceNum').removeClass('text-danger borer-danger');
        $('#invoiceNum').addClass('text-success border-success');
    }

    if ($('#invoiceDate').val().length <= 0 && $('#invoiceDueDate').val().length <= 0) {
        $('#invoiceDate').addClass('text-danger border-danger');
        $('#invoiceDate').removeClass('text-success border-success');
        $('#invoiceDueDate').addClass('text-danger border-danger');
        $('#invoiceDueDate').removeClass('text-success border-success');

    } else {
        $('#invoiceDate').removeClass('text-danger borer-danger');
        $('#invoiceDate').addClass('text-success border-success');
        $('#invoiceDueDate').removeClass('text-danger borer-danger');
        $('#invoiceDueDate').addClass('text-success border-success');
    }

    if ($('#businessName').val().length <= 0) {
        $('#businessName').addClass('text-danger border-danger');
        $('#businessName').removeClass('text-success border-success');
    } else {
        $('#businessName').removeClass('text-danger borer-danger');
        $('#businessName').addClass('text-success border-success');
    }

    if ($('#businessFName').val().length <= 0) {
        $('#businessFName').addClass('text-danger border-danger');
        $('#businessFName').removeClass('text-success border-success');
    } else {
        $('#businessFName').removeClass('text-danger borer-danger');
        $('#businessFName').addClass('text-success border-success');
    }

    if ($('#businessLName').val().length <= 0) {
        $('#businessLName').addClass('text-danger border-danger');
        $('#businessLName').removeClass('text-success border-success');
    } else {
        $('#businessLName').removeClass('text-danger borer-danger');
        $('#businessLName').addClass('text-success border-success');
    }

    if ($('#businessStreetAddress').val().length <= 0) {
        $('#businessStreetAddress').addClass('text-danger border-danger');
        $('#businessStreetAddress').removeClass('text-success border-success');
    } else {
        $('#businessStreetAddress').removeClass('text-danger borer-danger');
        $('#businessStreetAddress').addClass('text-success border-success');
    }

    if ($('#businessCity').val().length <= 0) {
        $('#businessCity').addClass('text-danger border-danger');
        $('#businessCity').removeClass('text-success border-success');
    } else {
        $('#businessCity').removeClass('text-danger borer-danger');
        $('#businessCity').addClass('text-success border-success');
    }

    if ($('#businessState').val().length <= 0) {
        $('#businessState').addClass('text-danger border-danger');
        $('#businessState').removeClass('text-success border-success');
    } else {
        $('#businessState').removeClass('text-danger borer-danger');
        $('#businessState').addClass('text-success border-success');
    }

    if ($('#businessZip').val().length <= 0) {
        $('#businessZip').addClass('text-danger border-danger');
        $('#businessZip').removeClass('text-success border-success');
    } else {
        $('#businessZip').removeClass('text-danger borer-danger');
        $('#businessZip').addClass('text-success border-success');
    }

    if ($('#businessNumber').val().length <= 0) {
        $('#businessNumber').addClass('text-danger border-danger');
        $('#businessNumber').removeClass('text-success border-success');
    } else {
        $('#businessNumber').removeClass('text-danger borer-danger');
        $('#businessNumber').addClass('text-success border-success');
    }

    if ($('#businessEmail').val().length <= 0) {
        $('#businessEmail').addClass('text-danger border-danger');
        $('#businessEmail').removeClass('text-success border-success');
    } else {
        $('#businessEmail').removeClass('text-danger borer-danger');
        $('#businessEmail').addClass('text-success border-success');
    }

    if ($('#clientFName').val().length <= 0) {
        $('#clientFName').addClass('text-danger border-danger');
        $('#clientFName').removeClass('text-success border-success');
    } else {
        $('#clientFName').removeClass('text-danger borer-danger');
        $('#clientFName').addClass('text-success border-success');
    }

    if ($('#clientLName').val().length <= 0) {
        $('#clientLName').addClass('text-danger border-danger');
        $('#clientLName').removeClass('text-success border-success');
    } else {
        $('#clientLName').removeClass('text-danger borer-danger');
        $('#clientLName').addClass('text-success border-success');
    }

    if ($('#clientStreetAddress').val().length <= 0) {
        $('#clientStreetAddress').addClass('text-danger border-danger');
        $('#clientStreetAddress').removeClass('text-success border-success');
    } else {
        $('#clientStreetAddress').removeClass('text-danger borer-danger');
        $('#clientStreetAddress').addClass('text-success border-success');
    }

    if ($('#clientCity').val().length <= 0) {
        $('#clientCity').addClass('text-danger border-danger');
        $('#clientCity').removeClass('text-success border-success');
    } else {
        $('#clientCity').removeClass('text-danger borer-danger');
        $('#clientCity').addClass('text-success border-success');
    }

    if ($('#clientState').val().length <= 0) {
        $('#clientState').addClass('text-danger border-danger');
        $('#clientState').removeClass('text-success border-success');
    } else {
        $('#clientState').removeClass('text-danger borer-danger');
        $('#clientState').addClass('text-success border-success');

    }

    if ($('#clientZip').val().length <= 0) {
        $('#clientZip').addClass('text-danger border-danger');
        $('#clientZip').removeClass('text-success border-success');
    } else {
        $('#clientZip').removeClass('text-danger borer-danger');
        $('#clientZip').addClass('text-success border-success');

    }

    if ($('#clientNumber').val().length <= 0) {
        $('#clientNumber').addClass('text-danger border-danger');
        $('#clientNumber').removeClass('text-success border-success');
    } else {
        $('#clientNumber').removeClass('text-danger borer-danger');
        $('#clientNumber').addClass('text-success border-success');

    }

    if ($('#clientEmail').val().length <= 0) {
        $('#clientEmail').addClass('text-danger border-danger');
        $('#clientEmail').removeClass('text-success border-success');
    } else {
        $('#clientEmail').removeClass('text-danger borer-danger');
        $('#clientEmail').addClass('text-success border-success');

    }

    if ($('#clientEmail').hasClass('text-danger') ||
        $('#clientNumber').hasClass('text-danger') ||
        $('#clientZip').hasClass('text-danger') ||
        $('#clientState').hasClass('text-danger') ||
        $('#clientCity').hasClass('text-danger') ||
        $('#clientStreetAddress').hasClass('text-danger') ||
        $('#clientLName').hasClass('text-danger') ||
        $('#clientFName').hasClass('text-danger')) {
        $('#billDetailHeader').addClass('bg-danger-subtle text-danger border-danger');
    } else {
        $('#billDetailHeader').removeClass('bg-danger-subtle text-danger border-danger');
    }

    if (
        $('#invoiceDate').hasClass('text-danger') ||
        $('#businessEmail').hasClass('text-danger') ||
        $('#businessNumber').hasClass('text-danger') ||
        $('#businessZip').hasClass('text-danger') ||
        $('#businessState').hasClass('text-danger') ||
        $('#businessCity').hasClass('text-danger') ||
        $('#businessStreetAddress').hasClass('text-danger') ||
        $('#businessLName').hasClass('text-danger') ||
        $('#businessFName').hasClass('text-danger')) {
        $('#businessDetailHeader').addClass('bg-danger-subtle text-danger border-danger');
    } else {
        $('#businessDetailHeader').removeClass('bg-danger-subtle text-danger  border-danger');


    }

    for (var t = 0; t < productList.length; t++){
        if (productList[t].product_desc.length <= 0 || productList[t].product_quantity.length <= 0
            || productList[t].product_price.length <= 0){
    
                $('li').attr('value', [t]).addClass('list-group-item-danger')
               $('#orderDetails').addClass('bg-danger-subtle text-danger border-danger');
               return
            }else{
                $('#orderDetails').removeClass('bg-danger-subtle text-danger  border-danger');
            }
    }

    if ($('#invoiceNum').hasClass('text-danger') ||
        $('#invoiceDueDate').hasClass('text-danger') ||
        $('#businessDetailHeader').hasClass('text-danger') ||
        $('#billDetailHeader').hasClass('text-danger')) {
            return;

    } else {
        previewTemp.clientEmail = $('#clientEmail').val();
        previewTemp.clientNumber = $('#clientNumber').val();
        previewTemp.clientZip = $('#clientZip').val();
        previewTemp.clientState = $('#clientState').val();
        previewTemp.clientCity = $('#clientCity').val();
        previewTemp.clientStreetAddress = $('#clientStreetAddress').val();
        previewTemp.clientLName = $('#clientLName').val();
        previewTemp.clientFName = $('#clientFName').val();
        previewTemp.businessEmail = $('#businessEmail').val();
        previewTemp.businessPhone = $('#businessNumber').val();
        previewTemp.businessZip = $('#businessZip').val();
        previewTemp.businessState = $('#businessState').val();
        previewTemp.businessCity = $('#businessCity').val();
        previewTemp.businessStreetAddress = $('#businessStreetAddress').val();
        previewTemp.businessLName = $('#businessLName').val();
        previewTemp.businessFName = $('#businessFName').val();
        previewTemp.businessName = $('#businessName').val();
        previewTemp.invoiceDate = $('#invoiceDate').val();
        previewTemp.invoiceDue = $('#invoiceDueDate').val();
        previewTemp.invoiceNumber = $('#invoiceNum').val();
        previewTemp.paymentNotes = $('#paymentNotes').val();
        previewTemp.tax = parseFloat($('#tax').val());
        previewTemp.discount = parseFloat($('#discount').val());
        localStorage.setItem("Preview", JSON.stringify(previewTemp));
        localStorage.setItem("Products", JSON.stringify(productList));
        window.open("./invoice.html", '_blank').focus();
    }




}
const invoiceNumGen = (min = 0, max = 500000) => {
    min = Math.ceil(min);
    max = Math.floor(max);
    const num = Math.floor(Math.random() * (max - min + 1)) + min;
    $('#invoiceNum').val(num.toString().padStart(6, "0"))
}

const reset = () => {
    init()
    $('.product-card').removeClass('active');

}

    </script>
</body>

</html>